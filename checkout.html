<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Checkout • Zippy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/checkout.css">
  <!-- Align FA version with index.html to avoid icon mismatches -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <header class="checkout-header">
    <div class="container">
      <a href="javascript:history.back()" class="back-link"><i class="fas fa-arrow-left"></i> Back</a>
      <div class="brand"><img src="images/zippy-icon.svg" alt="Zippy" /> Zippy</div>
      <div class="header-right">
        <a href="shop.html" class="cart-chip" id="cartSummaryChip">
          <i class="fas fa-shopping-cart"></i>
          <span id="chipItems">0</span> • <span id="chipTotal">$0.00</span>
        </a>
      </div>
    </div>
  </header>

  <main class="checkout-main">
    <div class="container grid">
      <section class="checkout-section">
        <h1 class="page-title">Checkout</h1>
        <p class="page-subtitle">Complete your details and review your order.</p>

        <div class="card">
          <h2 class="card-title">Contact</h2>
          <div class="form-grid">
            <div class="form-group">
              <label for="fullName">Full name</label>
              <input type="text" id="fullName" placeholder="John Doe" autocomplete="name" required />
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" placeholder="john@example.com" autocomplete="email" />
            </div>
            <div class="form-group">
              <label for="phone">Phone</label>
              <input type="tel" id="phone" placeholder="(555) 123-4567" autocomplete="tel" required />
            </div>
          </div>
        </div>

        <div class="card">
          <h2 class="card-title">Delivery</h2>
          <div class="form-grid">
            <div class="form-group">
              <label>Method</label>
              <div class="radio-row">
                <label class="radio">
                  <input type="radio" name="deliveryMethod" value="delivery" checked />
                  <span>Delivery</span>
                </label>
                <label class="radio">
                  <input type="radio" name="deliveryMethod" value="pickup" />
                  <span>Pickup</span>
                </label>
              </div>
            </div>
            <div class="form-group address-group">
              <label for="address">Address</label>
              <input type="text" id="address" placeholder="123 Main St" autocomplete="street-address" />
            </div>
            <div class="form-group">
              <label for="city">City</label>
              <input type="text" id="city" placeholder="City" autocomplete="address-level2" />
            </div>
            <div class="form-group">
              <label for="postal">Postal code</label>
              <input type="text" id="postal" placeholder="12345" autocomplete="postal-code" />
            </div>
            <div class="form-group" style="grid-column: 1 / -1;">
              <label for="notes">Order notes</label>
              <textarea id="notes" rows="3" placeholder="Any special instructions?"></textarea>
            </div>
          </div>
        </div>

        <aside class="summary-section">
          <div class="card sticky" id="summaryCard">
            <h2 class="card-title">Order summary</h2>
            <div id="orderItems" class="order-items"></div>
            <div class="divider"></div>
            <div class="summary-row"><span>Subtotal</span><span id="subtotal">$0.00</span></div>
            <div class="summary-row"><span>Delivery</span><span id="deliveryFee">$0.00</span></div>
            <div class="summary-row total"><span>Total</span><span id="orderTotal">$0.00</span></div>
  
            <div class="promo">
              <input id="promoCode" type="text" placeholder="Promo code" />
              <button id="applyPromo" class="btn-secondary">Apply</button>
            </div>
          </div>
  
          <div id="emptyState" class="empty-state" style="display: none;">
            <i class="fas fa-shopping-bag"></i>
            <p>Your cart is empty.</p>
            <a href="shop.html" class="btn">Go to shop</a>
          </div>
        </aside>

        <div class="card" id="paymentCard">
          <h2 class="card-title">Payment</h2>
          <div class="radio-column">
            <label class="radio">
              <input type="radio" name="paymentMethod" value="cod" checked />
              <span><i class="fas fa-money-bill-wave"></i> Cash on delivery</span>
            </label>
            <label class="radio disabled" title="Coming soon">
              <input type="radio" name="paymentMethod" value="card" disabled />
              <span><i class="fas fa-credit-card"></i> Card (coming soon)</span>
            </label>
          </div>
        </div>

        <div class="actions">
          <button id="placeOrderBtn" class="btn-primary btn-block">
            <i class="fas fa-check-circle"></i>
            Complete Order
          </button>
          <p class="secure-note"><i class="fas fa-lock"></i> Your info is secure and only used to fulfill your order.</p>
        </div>
      </section>

    </div>
  </main>

  <!-- Toasts -->
  <div class="toast-container" aria-live="polite" aria-atomic="true"></div>

  <!-- GitHub Pages compatibility fix (ES module) -->
  <script src="js/github-pages-fix.js" type="module"></script>
  <script type="module" src="js/checkout.js"></script>
</body>

</html>
